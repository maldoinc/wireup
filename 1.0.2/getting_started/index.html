
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../services/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>Getting Started - Wireup</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-setup" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../..">

    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL(".."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Wireup" class="md-header__button md-logo" aria-label="Wireup" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 14.475a7.395 7.395 0 0 1-7.38 7.41h-.016a7.3 7.3 0 0 1-4.5-1.605A7.498 7.498 0 0 1 0 14.475V2.82h1.41v11.655a6 6 0 0 0 9.585 4.815 7.38 7.38 0 0 1-1.815-4.814v-9.54a2.82 2.82 0 0 1 5.64 0v9.54a7.37 7.37 0 0 1-1.77 4.814 5.997 5.997 0 0 0 8.383-1.304 6 6 0 0 0 1.157-3.511V2.82H24zm-10.59-9.54a1.41 1.41 0 0 0-2.82 0v9.54A6 6 0 0 0 12 18.33a6 6 0 0 0 1.41-3.855z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Wireup
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/maldoinc/wireup" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    maldoinc/wireup
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href=".." class="md-tabs__link">
          
  
  üìö Documentation

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../integrations/" class="md-tabs__link">
          
  
  Integrations

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../class/wireup/" class="md-tabs__link">
          
  
  API Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Wireup" class="md-nav__button md-logo" aria-label="Wireup" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 14.475a7.395 7.395 0 0 1-7.38 7.41h-.016a7.3 7.3 0 0 1-4.5-1.605A7.498 7.498 0 0 1 0 14.475V2.82h1.41v11.655a6 6 0 0 0 9.585 4.815 7.38 7.38 0 0 1-1.815-4.814v-9.54a2.82 2.82 0 0 1 5.64 0v9.54a7.37 7.37 0 0 1-1.77 4.814 5.997 5.997 0 0 0 8.383-1.304 6 6 0 0 0 1.157-3.511V2.82H24zm-10.59-9.54a1.41 1.41 0 0 0-2.82 0v9.54A6 6 0 0 0 12 18.33a6 6 0 0 0 1.41-3.855z"/></svg>

    </a>
    Wireup
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/maldoinc/wireup" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    maldoinc/wireup
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    üìö Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            üìö Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wireup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-setup" class="md-nav__link">
    <span class="md-ellipsis">
      1. Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-define-services" class="md-nav__link">
    <span class="md-ellipsis">
      2. Define services
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Define services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keyvaluestore" class="md-nav__link">
    <span class="md-ellipsis">
      üêç KeyValueStore
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aiohttpclientsession" class="md-nav__link">
    <span class="md-ellipsis">
      üè≠ aiohttp.ClientSession
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weatherservice" class="md-nav__link">
    <span class="md-ellipsis">
      üêç WeatherService
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-use" class="md-nav__link">
    <span class="md-ellipsis">
      3. Use
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Use">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#35-integrate" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 Integrate
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5 Integrate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integrations" class="md-nav__link">
    <span class="md-ellipsis">
      Integrations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-test" class="md-nav__link">
    <span class="md-ellipsis">
      4. Test
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Basics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameters
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Learn
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            Learn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lifetimes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lifetimes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interfaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../factory_functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Factory functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apply_container_as_decorator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apply as a decorator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../multiple_registrations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multiple registrations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Advanced
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use_without_annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use without annotations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../future_annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use with __future__ annotations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Misc
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tips_tricks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tips & Tricks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../demo_app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Demo application
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../versioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Versioning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrading
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Integrations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/django/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Django
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/fastapi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FastAPI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/flask/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flask
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class/wireup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wireup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class/override_manager/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OverrideManager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class/parameter_bag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ParameterBag
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Integrations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class/django_integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Django
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class/fastapi_integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FastAPI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../class/flask_integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flask
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-setup" class="md-nav__link">
    <span class="md-ellipsis">
      1. Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-define-services" class="md-nav__link">
    <span class="md-ellipsis">
      2. Define services
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Define services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keyvaluestore" class="md-nav__link">
    <span class="md-ellipsis">
      üêç KeyValueStore
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aiohttpclientsession" class="md-nav__link">
    <span class="md-ellipsis">
      üè≠ aiohttp.ClientSession
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weatherservice" class="md-nav__link">
    <span class="md-ellipsis">
      üêç WeatherService
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-use" class="md-nav__link">
    <span class="md-ellipsis">
      3. Use
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Use">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#35-integrate" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 Integrate
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.5 Integrate">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#integrations" class="md-nav__link">
    <span class="md-ellipsis">
      Integrations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-test" class="md-nav__link">
    <span class="md-ellipsis">
      4. Test
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Getting Started</h1>

<p>To showcase the basics of Wireup, we will create a container able to inject the following:</p>
<ul>
<li>A <code>WeatherService</code> that queries a fictional weather api. It needs an api key, a <code>KeyValueStore</code> to cache data and an async http client to make requests.</li>
<li><code>KeyValueStore</code> itself needs a <code>redis_url</code> denoting the server it will connect to to query/store data.</li>
</ul>
<p>These services will then be retrieved in a <code>/weather/forecast</code> endpoint that requires <code>WeatherService</code> to provide weather information.</p>
<pre class="mermaid"><code>graph LR
    redis_url[‚öôÔ∏è redis_url] --&gt; KeyValueStore[üêç KeyValueStore]
    weather_api_key[‚öôÔ∏è weather_api_key] --&gt; WeatherService
    KeyValueStore --&gt; WeatherService[üêç WeatherService]
    WeatherService --&gt; Route[üåé /weather/forecast]
    F[üè≠ HttpClient] --&gt; WeatherService</code></pre>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>There will be little <code>+</code> icons in code fragments. You can click on those for more detailed
information as to what is happening in that particular line.</p>
</div>
<h3 id="1-setup">1. Setup<a class="headerlink" href="#1-setup" title="Permanent link">&para;</a></h3>
<p>Install wireup using pip or your favorite package manager.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>wireup
</code></pre></div>
<p>The first step is to create a container.</p>
<div class="highlight"><span class="filename">container.py</span><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">wireup</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">wireup</span><span class="o">.</span><span class="n">create_async_container</span><span class="p">(</span>
    <span class="c1"># Parameters are an optional key-value configuration store.</span>
    <span class="c1"># You can inject parameters as necessary by their name where required.</span>
    <span class="n">parameters</span><span class="o">=</span><span class="p">{</span> <span class="c1"># (1)!</span>
        <span class="s2">&quot;redis_url&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;APP_REDIS_URL&quot;</span><span class="p">],</span>
        <span class="s2">&quot;weather_api_key&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;APP_WEATHER_API_KEY&quot;</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="c1"># Let the container know where service registrations are located.</span>
    <span class="c1"># This is a list of top-level modules Wireup should scan for service declarations.</span>
    <span class="n">service_modules</span><span class="o">=</span><span class="p">[</span><span class="n">services</span><span class="p">]</span>  <span class="c1"># (2)!</span>
<span class="p">)</span>
</code></pre></div>
<ol>
<li>
<p>Parameters are configuration your application needs.
    Such as an api key, database url, or other settings.</p>
<p>You can inject them as necessary by their name (dict key) where required.
Wireup won't pull things from the environment or other places for you.
You need to expose to it the different settings you'll need.</p>
<p>You don't have to use this if you prefer using things like pydantic-settings,
but it will enable you to have self-contained service definitions without writing additional set-up code
to create these objects.</p>
<p>Note that the values can be literally anything you need to inject and not just int/strings or other scalars.
You can put dataclasses for example in the parameters to inject structured configuration.</p>
</li>
<li>
<p>Service modules is a list of top-level python modules containing service definitions this container
    needs to know about (Classes or functions decorated with <code>@service</code> or <code>@abstract</code>.).
    The container will only create types that are explicitly registered with it.</p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Container variants: Sync and Async</p>
<p>Wireup includes two types of containers: async and sync. The difference is that the async one exposes
<code>async def</code> methods for the common operations and is capable of creating resources from <code>async def</code> factories.</p>
<p>The async container can create both regular and resources from async factories.</p>
<p>If you don't use async in your code you should create a container via <code>wireup.create_sync_container</code>.
Some integrations that Wireup provides also require you to create containers of a given type.
E.g: FastAPI integration only supports async containers.</p>
</div>
<details class="abstract">
<summary>Read: Global variables</summary>
<p>Using this approach means relying on global state, which ties your application to a single container instance. 
This might be sufficient for you and that's okay but, if you want to avoid global state, it's better to create 
the container within your application factory and store it in your application's state instead.</p>
</details>
<h3 id="2-define-services">2. Define services<a class="headerlink" href="#2-define-services" title="Permanent link">&para;</a></h3>
<p>The container uses types and annotations to define services and the discover dependencies between them. This
results in self-contained service declarations without having to create factories for every service.</p>
<h4 id="keyvaluestore">üêç <code>KeyValueStore</code><a class="headerlink" href="#keyvaluestore" title="Permanent link">&para;</a></h4>
<p>To create <code>KeyValueStore</code>, all we need is the <code>redis_url</code> parameter.
The <code>@service</code> decorator tells Wireup this is a service, and we need to tell the container via annotated types
to fetch the value of the <code>redis_url</code> parameter for <code>dsn</code>. </p>
<div class="highlight"><span class="filename">services/key_value_store.py</span><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">wireup</span><span class="w"> </span><span class="kn">import</span> <span class="n">service</span><span class="p">,</span> <span class="n">Inject</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">Annotated</span>

<span class="hll"><span class="nd">@service</span>  <span class="c1">#(1)!</span>
</span><span class="k">class</span><span class="w"> </span><span class="nc">KeyValueStore</span><span class="p">:</span>
<span class="hll">    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dsn</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Inject</span><span class="p">(</span><span class="n">param</span><span class="o">=</span><span class="s2">&quot;redis_url&quot;</span><span class="p">)])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1">#(2)!</span>
</span>        <span class="bp">self</span><span class="o">.</span><span class="n">client</span> <span class="o">=</span> <span class="n">redis</span><span class="o">.</span><span class="n">from_url</span><span class="p">(</span><span class="n">dsn</span><span class="p">)</span>
</code></pre></div>
<ol>
<li>Decorators are only used to collect metadata. 
    This makes testing simpler, as you can still instantiate this like a regular class in your tests.</li>
<li>Since type-based injection is not possible here (there can be many string/int parameters after all), 
    parameters must be annotated with the <code>Inject(param=name)</code> syntax. This tells the container which parameter to inject.</li>
</ol>
<h4 id="aiohttpclientsession">üè≠ <code>aiohttp.ClientSession</code><a class="headerlink" href="#aiohttpclientsession" title="Permanent link">&para;</a></h4>
<p>The http client making requests cannot be instantiated directly as we need to enter an async context manager.
To accommodate such cases, Wireup allows you to use functions to create dependencies. 
These can be sync/async as well as regular or generator functions if cleanup needs to take place.</p>
<p>Factories can define their dependencies in the function's signature.</p>
<div class="admonition note">
<p>When using generator factories make sure to call <code>container.close</code> when the application is terminating for the necessary cleanup to take place.</p>
</div>
<div class="highlight"><span class="filename">services/factories.py</span><pre><span></span><code><span class="hll"><span class="nd">@service</span>
</span><span class="hll"><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">make_http_client</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">AsyncIterator</span><span class="p">[</span><span class="n">aiohttp</span><span class="o">.</span><span class="n">ClientSession</span><span class="p">]:</span>
</span>    <span class="k">async</span> <span class="k">with</span> <span class="n">aiohttp</span><span class="o">.</span><span class="n">ClientSession</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">client</span>
</code></pre></div>
<h4 id="weatherservice">üêç <code>WeatherService</code><a class="headerlink" href="#weatherservice" title="Permanent link">&para;</a></h4>
<p>Creating <code>WeatherService</code> is also straightforward. The <code>@service</code> decorator is used to let Wireup know this is a service and we use the same syntax as above for the <code>api_key</code>. </p>
<p>Class dependencies do not need additional annotations, even though the http client is created via an async generator. This is transparently handled by the container.</p>
<div class="highlight"><span class="filename">services/weather_service.py</span><pre><span></span><code><span class="hll"><span class="nd">@service</span>
</span><span class="k">class</span><span class="w"> </span><span class="nc">WeatherService</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">__init</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
<span class="hll">        <span class="n">api_key</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Inject</span><span class="p">(</span><span class="n">param</span><span class="o">=</span><span class="s2">&quot;weather_api_key&quot;</span><span class="p">)],</span> <span class="c1">#(1)!</span>
</span><span class="hll">        <span class="n">kv_store</span><span class="p">:</span> <span class="n">KeyValueStore</span><span class="p">,</span> <span class="c1">#(2)!</span>
</span><span class="hll">        <span class="n">client</span><span class="p">:</span> <span class="n">aiohttp</span><span class="o">.</span><span class="n">ClientSession</span><span class="p">,</span> <span class="c1">#(3)!</span>
</span>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span> <span class="o">...</span>
</code></pre></div>
<ol>
<li>Same as above, weather api key needs the parameter name for the container to inject it.</li>
<li><code>KeyValueStore</code> can be injected only by type and does not require annotations.</li>
<li><code>aiohttp.ClientSession</code> can be injected only by type and requires no additional configuration.</li>
</ol>
<h3 id="3-use">3. Use<a class="headerlink" href="#3-use" title="Permanent link">&para;</a></h3>
<p>All that's left now is to retrieve services from the container.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:5"><input checked="checked" id="service-locator" name="__tabbed_1" type="radio" /><input id="injection-via-decorator" name="__tabbed_1" type="radio" /><input id="fastapi" name="__tabbed_1" type="radio" /><input id="flask" name="__tabbed_1" type="radio" /><input id="django" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="service-locator">Service Locator</label><label for="injection-via-decorator">Injection via decorator</label><label for="fastapi">FastAPI</label><label for="flask">Flask</label><label for="django">Django</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>To fetch services from the container, call <code>.get</code> on the container instance with the type you wish to retrieve.</p>
<div class="highlight"><span class="filename">views/posts.py</span><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/weather/forecast&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_forecast</span><span class="p">():</span>
<span class="hll">    <span class="n">weather_service</span> <span class="o">=</span> <span class="k">await</span> <span class="n">container</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">WeatherService</span><span class="p">)</span>
</span>    <span class="k">return</span> <span class="k">await</span> <span class="n">weather_service</span><span class="o">.</span><span class="n">get_forecast</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>You can also apply Wireup containers as decorators. See <a href="../apply_container_as_decorator/">Apply the container as a decorator</a> docs for more info, but the end result is that you can
decorate any function and specify dependencies to inject in it's signature.</p>
<div class="highlight"><span class="filename">views/posts.py</span><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">wireup</span><span class="w"> </span><span class="kn">import</span> <span class="n">Injected</span><span class="p">,</span> <span class="n">inject_from_container</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/weather/forecast&quot;</span><span class="p">)</span>
<span class="hll"><span class="nd">@inject_from_container</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
</span><span class="hll"><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_forecast</span><span class="p">(</span><span class="n">weather_service</span><span class="p">:</span> <span class="n">Injected</span><span class="p">[</span><span class="n">WeatherService</span><span class="p">]):</span>
</span>    <span class="k">return</span> <span class="k">await</span> <span class="n">weather_service</span><span class="o">.</span><span class="n">get_forecast</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<p>With the FastAPI integration you can just declare dependencies in http or websocket routes.</p>
<div class="highlight"><span class="filename">views/posts.py</span><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">wireup</span><span class="w"> </span><span class="kn">import</span> <span class="n">Injected</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/weather/forecast&quot;</span><span class="p">)</span>
<span class="hll"><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_forecast</span><span class="p">(</span><span class="n">weather_service</span><span class="p">:</span> <span class="n">Injected</span><span class="p">[</span><span class="n">WeatherService</span><span class="p">]):</span>
</span>    <span class="k">return</span> <span class="k">await</span> <span class="n">weather_service</span><span class="o">.</span><span class="n">get_forecast</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Learn More: <a href="../integrations/fastapi/">FastAPI Integration</a>.</p>
</div>
<div class="tabbed-block">
<p>With the Flask integration you can just declare dependencies in views.</p>
<div class="highlight"><span class="filename">views/posts.py</span><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">wireup</span><span class="w"> </span><span class="kn">import</span> <span class="n">Injected</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/weather/forecast&quot;</span><span class="p">)</span>
<span class="hll"><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_forecast</span><span class="p">(</span><span class="n">weather_service</span><span class="p">:</span> <span class="n">Injected</span><span class="p">[</span><span class="n">WeatherService</span><span class="p">]):</span>
</span>    <span class="k">return</span> <span class="k">await</span> <span class="n">weather_service</span><span class="o">.</span><span class="n">get_forecast</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Learn More: <a href="../integrations/flask/">Flask Integration</a>.</p>
</div>
<div class="tabbed-block">
<p>With the Django integration you can just declare dependencies in views. The integration provides
support for async views, regular views as well as class-based views.</p>
<div class="highlight"><span class="filename">views/posts.py</span><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">wireup</span><span class="w"> </span><span class="kn">import</span> <span class="n">Injected</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_forecast</span><span class="p">(</span><span class="n">weather_service</span><span class="p">:</span> <span class="n">Injected</span><span class="p">[</span><span class="n">WeatherService</span><span class="p">]):</span>
<span class="hll">    <span class="k">return</span> <span class="k">await</span> <span class="n">weather_service</span><span class="o">.</span><span class="n">get_forecast</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</span></code></pre></div>
<p>Learn More: <a href="../integrations/django/">Django Integration</a>.</p>
</div>
</div>
</div>
<h4 id="35-integrate">3.5 Integrate<a class="headerlink" href="#35-integrate" title="Permanent link">&para;</a></h4>
<p>While Wireup is framework-agnostic, usage can be simplified when using it alongside one of the integrations.
Key benefits of the integrations are:</p>
<ul>
<li>Automatic injection in routes without having to do <code>container.get</code> or use decorators.</li>
<li>Lifecycle management and access to request-scoped dependencies.</li>
<li>Eliminates the need for a global container variable as containers are bound to the application instance.</li>
<li>Other goodies specific for that particular framework.</li>
</ul>
<h5 id="integrations">Integrations<a class="headerlink" href="#integrations" title="Permanent link">&para;</a></h5>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <a href="../integrations/django/">Django</a></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <a href="../integrations/fastapi/">FastAPI</a></li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> <a href="../integrations/flask/">Flask</a></li>
</ul>
<h3 id="4-test">4. Test<a class="headerlink" href="#4-test" title="Permanent link">&para;</a></h3>
<p>Wireup does not patch your services, which means they can be instantiated and tested independently of the container.</p>
<p>To substitute dependencies on targets such as views in a web application you can override dependencies with new ones on the fly.</p>
<div class="highlight"><pre><span></span><code><span class="k">with</span> <span class="n">container</span><span class="o">.</span><span class="n">override</span><span class="o">.</span><span class="n">service</span><span class="p">(</span><span class="n">WeatherService</span><span class="p">,</span> <span class="n">new</span><span class="o">=</span><span class="n">test_weather_service</span><span class="p">):</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/weather/forecast&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Requests to inject <code>WeatherService</code> during the lifetime of the context manager 
will result in <code>test_weather_service</code> being injected instead.</p>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h2>
<p>This concludes the "Getting Started" walkthrough, covering the most common dependency injection use cases.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li>Wireup can perform injection on both sync and async targets.</li>
<li>If you need to create multiple containers, every container you create is separate from the rest and has its own state.</li>
</ul>
</div>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../services/">Services</a></li>
<li><a href="../parameters/">Parameters</a></li>
<li><a href="../factory_functions/">Factory functions</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Wireup">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Wireup
              </div>
            </div>
          </a>
        
        
          
          <a href="../services/" class="md-footer__link md-footer__link--next" aria-label="Next: Services">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Services
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["search.highlight", "navigation.sections", "content.code.annotate", "navigation.instant", "navigation.tabs", "navigation.footer"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>